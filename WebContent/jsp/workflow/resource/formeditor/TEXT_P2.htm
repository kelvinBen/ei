<HTML>
<HEAD>
<TITLE>表单属性</TITLE>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<Link rel="stylesheet" type="text/css" href="pop.css">

<script>
var win=window.dialogArguments;
var modalObj=win.JsObj.CurControl;

function init()
{
var intxt=modalObj.value;
var checkreg=modalObj.checkreg;
if(checkreg!=null)
document.all("checkreg").value=checkreg;
var fieldname=modalObj.fieldname;
if(fieldname!=null)
document.all("fieldname").value=fieldname;
if(modalObj.parentElement!=null && modalObj.parentElement.previousSibling!=null && modalObj.parentElement.previousSibling.tagName=="TD")
document.all("chaname").value=modalObj.parentElement.previousSibling.innerText;
var pageevent=modalObj.pageevent;
if(pageevent!=null)
document.all("pageevent").value=pageevent;
var size=modalObj.size;
if(size!=null)
document.all("size").value=size;

var isreadonly=modalObj.isreadonly;
if(isreadonly!=null)
selected("isreadonly",isreadonly);
var insearchpage=modalObj.insearchpage;
if(insearchpage!=null)
selected("insearchpage",insearchpage);
var iscansearch=modalObj.iscansearch;
if(iscansearch!=null)
selected("iscansearch",iscansearch);
var showtitle=modalObj.showtitle;
if(showtitle!=null)
selected("showtitle",showtitle);
var ISMANDATORY=modalObj.ISMANDATORY;
if(ISMANDATORY!=null)
selected("ISMANDATORY",ISMANDATORY);

var DEFAULTVALUE=modalObj.DEFAULTVALUE;
if(DEFAULTVALUE!=null)
document.all("DEFAULTVALUE").value=DEFAULTVALUE;
var ISMANDATORY=modalObj.ISMANDATORY;
if(ISMANDATORY!=null)
selected("ISMANDATORY",ISMANDATORY);
var VALIDATIONMSG=modalObj.VALIDATIONMSG;
if(VALIDATIONMSG!=null)
document.all("VALIDATIONMSG").value=VALIDATIONMSG;
var field_TIP=modalObj.field_TIP;
if(field_TIP!=null)
document.all("field_TIP").value=field_TIP;
var field_VALIDATIONCODE=modalObj.field_VALIDATIONCODE;
if(field_VALIDATIONCODE!=null)
document.all("field_VALIDATIONCODE").value=field_VALIDATIONCODE;

}
function dosave()
{
var checkreg=document.all("checkreg").value;
if(checkreg!=null)
modalObj.checkreg=checkreg;
var fieldname=document.all("fieldname").value;
if(fieldname==null || fieldname=="")
{
alert("域名称不能为空！");
return false;
}
modalObj.fieldname=fieldname;
modalObj.value=fieldname;

var pageevent=document.all("pageevent").value;
if(pageevent!=null)
modalObj.pageevent=pageevent;
var size=document.all("size").value;
if(size==null || size=="")
{
alert("域宽度不能为空！");
return false;
}
modalObj.size=size;
var isreadonly=document.all("isreadonly").value;
if(isreadonly!=null)
modalObj.isreadonly=isreadonly;
var insearchpage=document.all("insearchpage").value;
if(insearchpage!=null)
modalObj.insearchpage=insearchpage;
var iscansearch=document.all("iscansearch").value;
if(iscansearch!=null)
modalObj.iscansearch=iscansearch;
var showtitle=document.all("showtitle").value;
if(showtitle!=null)
modalObj.showtitle=showtitle;
var chaname=document.all("chaname").value;
if(showtitle &&(chaname==null || chaname==""))
{
alert("中文名称不能为空！");
return false;
}
modalObj.chaname=chaname;

var ISMANDATORY=document.all("ISMANDATORY").value;
if(ISMANDATORY!=null)
modalObj.ISMANDATORY=ISMANDATORY;

var DEFAULTVALUE=document.all("DEFAULTVALUE").value;
if(DEFAULTVALUE!=null)
modalObj.DEFAULTVALUE=DEFAULTVALUE;
var ISMANDATORY=document.all("ISMANDATORY").value;
if(ISMANDATORY!=null)
modalObj.ISMANDATORY=ISMANDATORY;
var VALIDATIONMSG=document.all("VALIDATIONMSG").value;
if(VALIDATIONMSG!=null)
modalObj.VALIDATIONMSG=VALIDATIONMSG;
var field_TIP=document.all("field_TIP").value;
if(field_TIP!=null)
modalObj.field_TIP=field_TIP;
var field_VALIDATIONCODE=document.all("field_VALIDATIONCODE").value;
if(field_VALIDATIONCODE!=null)
modalObj.field_VALIDATIONCODE=field_VALIDATIONCODE;

window.returnValue="true";
window.close();
}
//根据下拉域的ＮＡＭＥ，选项使该项selected
function selected(sel,opi)
{
var select=document.all(sel);
if(select==null || select.tagName!="SELECT")
	return;
	for(var i=0;i<select.options.length;i++)
	{
	if(select.options[i].value==opi)
		select.options[i].selected=true;
	}
	if(select.onchange!=null)
	select.onchange();
}

</script>
</HEAD>

<BODY bgcolor=buttonface onload="init();">
<fieldset  class="radiogroup" style="padding:10px;"><legend class=title>表单</legend>
<table border="0" height="100%" width="90%" cellspacing="0" cellpadding="0" style="padding-left:10px">
<tr>
	<td >
	域名称：
	</td>
	<td >
	<input size=20 name="fieldname">
	</td>
	</tr>
	<tr>
	<td >
	中文名称：
	</td>
	<td >
	<input size=20 name="chaname">
	</td>
	</tr>

	<tr>
	<td nowrap>
	长度：
	</td>
	<td >
	<input name="size" size=5>
	</td>
</tr>
<tr>
	<td nowrap>
	是否只读：
	</td>
	<td >
	<select name="isreadonly"><option value=1>是</option><option value=0 selected>否</option></select>
	</td>
</tr>
<tr>
	<td nowrap>
	在查询页面显示：
	</td>
	<td >
	<select name="insearchpage"><option value=1>是</option><option value=0 selected>否</option></select>
	</td>
</tr>	
<tr>
	<td nowrap>
	作为简单查询条件：
	</td>
	<td >
	<select name="iscansearch"><option value=1>是</option><option value=0 selected>否</option></select>
	</td>
</tr>	
<tr>
	<td nowrap>
	是否显示标题：
	</td>
	<td >
	<select name="showtitle"><option value=1>是</option><option value=0 selected>否</option></select>
	</td>
</tr>	
<tr>
	<td nowrap>
	是否必须项：
	</td>
	<td >
	<select name="ISMANDATORY"><option value=1>是</option><option value=0>否</option></select>
	</td>
</tr>

<tr>
	<td nowrap>
	校验格式：
	</td>
	<td >
	<input size=20 name="checkreg">
	</td>
</tr>
	<tr>
	<td nowrap>
	页面事件：
	</td>
	<td >
	<textarea  name="pageevent"></textarea>
	</td>
</tr>	
<tr>
	<td nowrap>
	默认值：
	</td>
	<td >
	<input size=20 name="DEFAULTVALUE">
	</td>
</tr>
<tr>
	<td nowrap>
自定义提示信息：
	</td>
	<td >
	<textarea name="VALIDATIONMSG"></textarea>
	</td>
</tr>
<tr>
	<td nowrap>
页面帮助信息：
	</td>
	<td >
	<textarea name="field_TIP"></textarea>
	</td>
</tr>
<tr>
	<td nowrap>
参考值有效逻辑：
	</td>
	<td >
	<textarea name="field_VALIDATIONCODE"></textarea>
	</td>
</tr>


<tr>
	<td colspan=2 align=center>
	<br>
	<BUTTON ID=Ok TYPE=SUBMIT onclick="dosave();">确定</BUTTON>&nbsp; &nbsp; <BUTTON ONCLICK="window.close();">取消</BUTTON>
	</td>
</tr>
</table>
</fieldset>
</BODY>   
</HTML>